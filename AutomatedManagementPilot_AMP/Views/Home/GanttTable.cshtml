@{
    ViewData["Title"] = "GanttTable";
}

<
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.css"
          rel="stylesheet" type="text/css" />
    <script src="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.js"></script>
    <script src="~/codebase/ext/dhtmlxgantt_auto_scheduling.js"></script>
    <div id="gantt_here" style="width:100%; height:100%;"></div>
    <script src="~/codebase/dhtmlxgantt.js"></script>
    <script>
        gantt.config.autosize = "xy";
        gantt.config.grid_width = 230;
        gantt.config.columns = [
            { name: "customer", label: "Customer", tree: true, resize: true },
        //    { name: "part", label: "Part", align: "center", resize: true },
        //    { name: "order_quantity", label: "Order Quantity", align: "center", resize: true },
            { name: "duration", label: "Duration", align: "center", resize: true },
        //    { name: "machine", label: "Machine", align: "center", resize: true },
        //    { name: "employee", label: "Operator", align: "center", resize: true },
        //    { name: "add", label: "" },
        ];

        gantt.config.columns = [
            { name: "text", tree: true, width: 200 },

                        { name: "duration", label: "Duration (days)", align: "center", resize: true },

            { name: "add", width: 44 }
        ];
        gantt.config.grid_width = 250;
        gantt.config.drag_progress = false;

        gantt.serverList("people", [
            { key: 1, label: "John" },
            { key: 2, label: "Mike" },
            { key: 3, label: "Anna" },
            { key: 4, label: "Bill" },
            { key: 7, label: "Floe" }
        ]);
        gantt.serverList("machines", [
            { key: 1, label: "Machine 1" },
            { key: 2, label: "Machine 2" },
        ]);
        gantt.locale.labels.section_employee = "Employee";
        gantt.locale.labels.section_machine = "Machine";
        gantt.config.lightbox.sections = [
            { name: "description", height: 38, map_to: "text", type: gantt.config.types.project, focus: true },
            { name: "employee", map_to: "employee_id", type: "select", options: gantt.serverList("people") },
            { name: "machine", map_to: "machine_id", type: "select", options: gantt.serverList("machines") },
            { name: "time", type: "duration", map_to: "auto" }
        ]
        document.addEventListener("DOMContentLoaded", function (event) {
            // specifying the date format
            gantt.config.date_format = "%Y-%m-%d %H:%i";
            // initializing gantt
            gantt.init("gantt_here");
            // initiating data loading
            gantt.load("/api/data");
            // initializing dataProcessor
            var dp = new gantt.dataProcessor("/api/");
            // and attaching it to gantt
            dp.init(gantt);
            // setting the REST mode for dataProcessor
            dp.setTransactionMode("REST");



            var demo_tasks = {
                "data": [

                    { "id": 13, "text": "Terrill Inc.", "start_date": "03-04-2019", type: gantt.config.types.project, "progress": 0.5, "open": true },
                    { "id": 17, "text": "Operation: Set Up", "start_date": "03-04-2019", "duration": "1", "parent": "13", "progress": 1, "open": true },
                    { "id": 18, "text": "Operation: Production", "start_date": "03-04-2019", "duration": "3", "parent": "17", "progress": 0.8, "open": true },
                    { "id": 19, "text": "Operation: Tear Down", "start_date": "03-04-2019", "duration": "4", "parent": "18", "progress": 0, "open": true },
                ],
                "links": [
                ]
            };

            gantt.config.auto_scheduling = true;
            gantt.config.auto_scheduling_strict = true;
            gantt.parse(demo_tasks);

            gantt.attachEvent("onBeforeAutoSchedule", function (jobId, item) {
                gantt.message({ text: "onBeforeTaskUpdate: " + item.text, expire: 10000 })
                if (gantt.getJob(jobId).$index == 1) return false;
                return true;
            });
            gantt.attachEvent("onBeforeAutoSchedule", function (jobId, updatedJob) {
                gantt.message({ text: "|| onBeforeAutoSchedule ||", expire: 10000 });
            });
        });
    </script>
</head>
</html>

<div id="gantt_here" style="width: 100%; height: 100vh;"></div>